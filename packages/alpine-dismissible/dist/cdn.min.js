(()=>{var f=Object.defineProperty,p=(s,e,i)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,t=(s,e,i)=>p(s,typeof e!="symbol"?e+"":e,i),v=(s,e=document.body)=>e.querySelector(s),c=(s,e=document.body)=>Array.from(e.querySelectorAll(s)),y=({element:s,callback:e,type:i,keysCheck:n})=>{let r=getComputedStyle(s),a=r.transition;if(a!=="none"&&a!==""&&!n.includes(a)){let o="transitionend",l=()=>{s.removeEventListener(o,l),e()};s.addEventListener(o,l,{once:!0})}else e()},h=({element:s,callback:e})=>{y({element:s,callback:e,type:"transition",keysCheck:["all 0s ease 0s","all"]})},d=class{static initGlobalRegistry(){window.$flexillaInstances||(window.$flexillaInstances={})}static register(e,i,n){return this.initGlobalRegistry(),window.$flexillaInstances[e]||(window.$flexillaInstances[e]=[]),this.getInstance(e,i)||(window.$flexillaInstances[e].push({element:i,instance:n}),n)}static getInstance(e,i){var n,r;return this.initGlobalRegistry(),(r=(n=window.$flexillaInstances[e])==null?void 0:n.find(a=>a.element===i))==null?void 0:r.instance}static removeInstance(e,i){this.initGlobalRegistry(),window.$flexillaInstances[e]&&(window.$flexillaInstances[e]=window.$flexillaInstances[e].filter(n=>n.element!==i))}},m=class{constructor(e,i,n,r){t(this,"dismissibleElement"),t(this,"dismissButtons"),t(this,"restoreButtons"),t(this,"action"),t(this,"onDismiss"),t(this,"onRestore"),t(this,"parentElement"),t(this,"previousSibling"),t(this,"originalDisplay"),t(this,"hideFromScreen",()=>{var l;this.dismissibleElement.style.display="none",(l=this.onDismiss)==null||l.call(this)}),t(this,"removeFromDom",()=>{var l,b;(l=this.onDismiss)==null||l.call(this),(b=this.dismissibleElement.parentElement)==null||b.removeChild(this.dismissibleElement)}),t(this,"showOnScreen",()=>{var l;this.dismissibleElement.style.display=this.originalDisplay,this.dismissibleElement.setAttribute("aria-hidden","false"),this.dismissibleElement.setAttribute("data-state","visible"),(l=this.onRestore)==null||l.call(this)}),t(this,"restoreToDom",()=>{var l;this.parentElement&&(this.previousSibling&&this.previousSibling.nextSibling?this.parentElement.insertBefore(this.dismissibleElement,this.previousSibling.nextSibling):this.parentElement.appendChild(this.dismissibleElement),this.dismissibleElement.setAttribute("aria-hidden","false"),this.dismissibleElement.removeAttribute("data-hidden"),this.dismissibleElement.setAttribute("data-state","visible"),(l=this.onRestore)==null||l.call(this))}),t(this,"dismiss",()=>{switch(this.action){case"hide-from-screen":this.dismissibleElement.setAttribute("aria-hidden","true"),this.dismissibleElement.setAttribute("data-state","hidden"),h({element:this.dismissibleElement,callback:this.hideFromScreen});break;default:this.dismissibleElement.setAttribute("data-hidden",""),this.dismissibleElement.setAttribute("aria-hidden","true"),this.dismissibleElement.setAttribute("data-state","removed"),h({element:this.dismissibleElement,callback:this.removeFromDom});break}}),t(this,"restore",()=>{switch(this.action){case"hide-from-screen":h({element:this.dismissibleElement,callback:this.showOnScreen});break;default:h({element:this.dismissibleElement,callback:this.restoreToDom});break}});let a=typeof e=="string"?v(e,document.body):e;if(!(a instanceof HTMLElement))throw new Error("Provided Element not a valid HTMLElement");this.dismissibleElement=a,this.action=i||this.dismissibleElement.dataset.action||"hide-from-screen",this.dismissButtons=c("[data-dismiss-btn]",this.dismissibleElement),this.restoreButtons=c("[data-restore-btn]",document.body),this.onDismiss=n,this.onRestore=r,this.parentElement=this.dismissibleElement.parentElement,this.previousSibling=this.dismissibleElement.previousSibling,this.originalDisplay=this.dismissibleElement.style.display||getComputedStyle(this.dismissibleElement).display,this.dismissibleElement.setAttribute("aria-hidden","false");let o=d.getInstance("dismissible",this.dismissibleElement);if(o)return o;this.setupDismissible(),d.register("dismissible",this.dismissibleElement,this)}setupDismissible(){for(let e of this.dismissButtons)e.addEventListener("click",this.dismiss);for(let e of this.restoreButtons)e.addEventListener("click",this.restore)}cleanup(){for(let e of this.dismissButtons)e.removeEventListener("click",this.dismiss);for(let e of this.restoreButtons)e.removeEventListener("click",this.restore);d.removeInstance("dismissible",this.dismissibleElement)}};t(m,"autoInit",(s="[data-fx-dismissible]")=>{let e=c(s);for(let i of e)new m(i)}),t(m,"init",(s,e,i,n)=>new m(s,e,i,n));var u=m;function w(s){s.directive("dismissible",(e,{},{cleanup:i})=>{let n=new u(e);i(()=>{n.cleanup()})})}var E=w;document.addEventListener("alpine:init",()=>{E(window.Alpine)});})();
