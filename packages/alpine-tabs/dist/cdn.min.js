(()=>{var D=Object.defineProperty,H=(e,t,a)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,s=(e,t,a)=>H(e,typeof t!="symbol"?t+"":t,a),E=(e,t=document.body)=>t.querySelector(e),g=(e,t=document.body)=>{let a=v(e,t);return Array.from(a).find(n=>n.parentElement===t)},v=(e,t=document.body)=>Array.from(t.querySelectorAll(e)),M=({newElement:e,existingElement:t})=>{if(!(e instanceof HTMLElement)||!(t instanceof HTMLElement))throw new Error("Both parameters must be valid HTML elements.");let a=t.parentElement;if(a)a.insertBefore(e,t);else throw new Error("Existing element must have a parent element.")},T=(e,t)=>{for(let[a,n]of Object.entries(t))e.setAttribute(a,n)},$=(e,t,a)=>{let n=new CustomEvent(t,{detail:a});e.dispatchEvent(n)},I="true",k="false",y="inactive",L="active",N="cubic-bezier(.48,1.55,.28,1)",S={className:"",transformDuration:0,transformEasing:""},O=({activeTabTrigger:e,indicatorClassName:t,tabList:a})=>{if(!t||t==="")return;let n=document.createElement("span");T(n,{"data-tab-indicator":"","aria-hidden":"true"});let o=t.split(" ");n.classList.add(...o);let h=e.parentElement===a?e:e.parentElement;return M({newElement:n,existingElement:h}),n},C=({triggerElement:e,indicator_:t,transformDuration:a=300,transformEasing:n="ease"})=>{t instanceof HTMLElement&&t.animate([{top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},{top:`${e.offsetTop}px`,left:`${e.offsetLeft}px`,width:`${e.offsetWidth}px`,height:`${e.offsetHeight}px`}],{fill:"both",duration:a,easing:n})},G=(e,t)=>{for(let a of t)a!==e&&(T(a,{"data-state":y,tabindex:"-1"}),a instanceof HTMLAnchorElement&&a.setAttribute("aria-selected","false"))},V=({indicatorTransformDuration:e,indicatorTransformEaseing:t,indicator:a,triggerElement:n,tabList:o})=>{!(a instanceof HTMLSpanElement)||!(n instanceof HTMLElement)||C({triggerElement:n,indicator_:a,transformDuration:e,transformEasing:t})},q=(e,t)=>{for(let a of t)a!==e&&(T(a,{"data-state":y,"aria-hidden":I}),a.hidden=!0)},A=({triggerElement:e,tabTriggers:t,tabsPanelContainer:a,showAnimation:n,indicatorTransformDuration:o,indicatorTransformEaseing:h,tabList:d})=>{let r=g("[data-tab-panel][data-state=active]",a);if(r instanceof HTMLElement&&(T(r,{"data-state":"hidden"}),r.hidden=!0),!(e instanceof HTMLElement))return;let l=g(`[data-tab-panel]#${e.getAttribute("data-target")}`,a);if(!(l instanceof HTMLElement))return;G(e,t),l.hidden=!1,T(l,{"data-state":L,"aria-hidden":k}),T(e,{"data-state":L,tabindex:"0"}),e instanceof HTMLAnchorElement&&e.setAttribute("aria-selected","true"),n&&n!==""&&l.style.setProperty("--un-tab-show-animation",`${n}`);let b=E("[data-tab-indicator]",d);C({triggerElement:e,indicator_:b,transformDuration:o,transformEasing:h});let m=g("[data-fx-tabs]",l);if(m instanceof HTMLElement){let u=g("[data-tab-list-wrapper]",m)||m,f=g("[data-tab-list]",u),i=f.querySelector("[data-tabs-trigger][data-state=active]"),c=f.querySelector("span[data-tab-indicator]");c instanceof HTMLSpanElement&&i instanceof HTMLElement&&!m.hasAttribute("data-nested-indicator-seteled")&&(m.setAttribute("data-nested-indicator-seteled",""),V({indicatorTransformDuration:o,indicatorTransformEaseing:h,indicator:c,triggerElement:i,tabList:f}))}return{currentTabPanel:l}},R=(e,t)=>{let a=t.findIndex(d=>d.getAttribute("data-state")===L),n=e.key==="ArrowUp"||e.key==="ArrowLeft"?-1:1,o=d=>!t[d].hasAttribute("disabled"),h=(d,r,l)=>{let b=(d+r+l)%l;for(;!o(b);)b=(b+r+l)%l;return b};if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight"){e.preventDefault();let d=h(a,n,t.length),r=t[d];r.focus(),r.click()}},w=class{static initGlobalRegistry(){window.$flexillaInstances||(window.$flexillaInstances={})}static register(t,a,n){return this.initGlobalRegistry(),window.$flexillaInstances[t]||(window.$flexillaInstances[t]=[]),this.getInstance(t,a)||(window.$flexillaInstances[t].push({element:a,instance:n}),n)}static getInstance(t,a){var n,o;return this.initGlobalRegistry(),(o=(n=window.$flexillaInstances[t])==null?void 0:n.find(h=>h.element===a))==null?void 0:o.instance}static removeInstance(t,a){this.initGlobalRegistry(),window.$flexillaInstances[t]&&(window.$flexillaInstances[t]=window.$flexillaInstances[t].filter(n=>n.element!==a))}},p=class{constructor(t,a={}){s(this,"tabsElement"),s(this,"options"),s(this,"indicatorOptions"),s(this,"defaultTabValue"),s(this,"showAnimation"),s(this,"tabList"),s(this,"tabPanels"),s(this,"tabTriggers"),s(this,"activeTabTrigger"),s(this,"indicatorClassName"),s(this,"indicatorTransformEaseing"),s(this,"indicatorTransformDuration"),s(this,"panelsContainer"),s(this,"getDefActivePanelValue",i=>{let c=g("[data-tab-panel][data-state=active]",i);return c?.getAttribute("id")}),s(this,"handleGlobalTabChanges",i=>{if(i.ariaSelected==="true"||this.activeTabTrigger===i)return;this.activeTabTrigger=i;let c=A({triggerElement:i,tabTriggers:this.tabTriggers,tabsPanelContainer:this.panelsContainer,showAnimation:this.showAnimation,indicatorTransformDuration:this.indicatorTransformDuration,indicatorTransformEaseing:this.indicatorTransformEaseing,tabList:this.tabList});this.options.onChangeTab&&this.options.onChangeTab({currentTrigger:i,currentPanel:c?.currentTabPanel}),$(this.tabsElement,"change-tab",{currentTrigger:i,currentPanel:c?.currentTabPanel})}),s(this,"handleTabChanges",i=>{let c=i.currentTarget;i.preventDefault(),this.handleGlobalTabChanges(c)}),s(this,"handleKeyEventChanges",i=>{R(i,this.tabTriggers)}),s(this,"cleanupSingle",i=>{i instanceof HTMLElement&&(i.removeEventListener("click",this.handleTabChanges),i.removeEventListener("keydown",this.handleKeyEventChanges))}),s(this,"cleanup",()=>{if(this.tabsElement){for(let i of this.tabTriggers)this.cleanupSingle(i);w.removeInstance("tabs",this.tabsElement),this.tabTriggers=[],this.tabPanels=[],this.activeTabTrigger=null,this.tabList=null,this.panelsContainer=null,this.tabsElement=null,this.options=null,this.indicatorOptions=null}}),s(this,"changeTab",i=>{let c=E(`[data-tabs-trigger][data-target='${i}']`,this.tabList);c instanceof HTMLElement&&this.handleGlobalTabChanges(c)});let n=typeof t=="string"?E(t):t;if(!(n instanceof HTMLElement))throw new Error("Please Provide a valid HTMLElement for the tabs component");this.tabsElement=n;let o=w.getInstance("tabs",this.tabsElement);if(o)return o;this.panelsContainer=g("[data-panels-container]",this.tabsElement)||this.tabsElement,this.options=a,this.indicatorOptions=this.options.indicatorOptions||S;let{defaultValue:h,animationOnShow:d}=this.options;this.defaultTabValue=h||this.tabsElement.dataset.defaultValue||this.getDefActivePanelValue(this.panelsContainer)||"",this.showAnimation=d||this.tabsElement.dataset.showAnimation||"";let r=g("[data-tab-list-wrapper]",this.tabsElement)||this.tabsElement;this.tabList=g("[data-tab-list]",r);let l=v("[data-tab-panel]",this.panelsContainer);if(this.tabPanels=l.filter(i=>i.parentElement===this.panelsContainer),!(this.tabList instanceof HTMLElement))throw new Error("TabList Element is required, tabList must have a data-tab-list attribute and be direct descendant of the tabs or must be wrapped inside another element with data-tab-list-wrapper");if(!this.tabPanels.every(i=>i instanceof HTMLElement))throw new Error("TabPanels Element are required, tabPanels must have a data-tab-panel attribute and be direct descendant of the tabs or the panels container (data-panels-container)");if(this.tabTriggers=v("[data-tabs-trigger]",this.tabList),this.tabTriggers.length<=0)throw new Error("No trigger found, Tab component must have at least one trigger");let b=E("[data-tabs-trigger][data-state=active]",this.tabList);this.activeTabTrigger=E(`[data-tabs-trigger][data-target='${this.defaultTabValue}']`,this.tabList)||b||this.tabTriggers[0];let{transformEasing:m,transformDuration:u,className:f}=this.indicatorOptions;this.indicatorClassName=f||this.tabsElement.getAttribute("data-indicator-class-name")||"",this.indicatorTransformEaseing=m||this.tabsElement.dataset.indicatorTransformEasing||N,this.indicatorTransformDuration=u||parseInt(this.tabsElement.dataset.indicatorTransformDuration||"")||400,this.initTabs(),w.register("tabs",this.tabsElement,this)}initTabs(){this.tabsElement.hasAttribute("data-fx-tabs")||this.tabsElement.setAttribute("data-fx-tabs",""),this.initializeTab({tabTriggers:this.tabTriggers,tabPanels:this.tabPanels,tabsPanelContainer:this.panelsContainer,showAnimation:this.showAnimation,indicatorTransformDuration:this.indicatorTransformDuration,indicatorTransformEaseing:this.indicatorTransformEaseing,activeTabTrigger:this.activeTabTrigger,indicatorClassName:this.indicatorClassName,tabList:this.tabList})}attachTriggerEvents(t){t instanceof HTMLElement&&(t.addEventListener("click",this.handleTabChanges),t.addEventListener("keydown",this.handleKeyEventChanges))}initializeTab({tabTriggers:t,tabPanels:a,tabsPanelContainer:n,showAnimation:o,indicatorTransformDuration:h,indicatorTransformEaseing:d,activeTabTrigger:r,indicatorClassName:l,tabList:b}){O({activeTabTrigger:r,indicatorClassName:l,tabList:b});for(let f of t)this.attachTriggerEvents(f);let m=g(`[data-tab-panel]#${r.getAttribute("data-target")}`,n);q(m,a);let u=A({triggerElement:r,tabTriggers:t,tabsPanelContainer:n,showAnimation:o,indicatorTransformDuration:h,indicatorTransformEaseing:d,tabList:b});this.options.onChangeTab&&this.options.onChangeTab({currentTrigger:r,currentPanel:u?.currentTabPanel})}};s(p,"autoInit",(e="[data-fx-tabs]")=>{let t=v(e);for(let a of t)new p(a)}),s(p,"init",(e,t)=>new p(e,t));var P=p;function _(e){e.directive("tabs",(t,{},{cleanup:a})=>{let n=new P(t);a(()=>{n.cleanup()})})}var x=_;document.addEventListener("alpine:init",()=>{x(window.Alpine)});})();
